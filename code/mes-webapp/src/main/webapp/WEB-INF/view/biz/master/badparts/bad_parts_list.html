<#include "../../include/bootstrapTableCommons.html">
<@p.body title="BAD_PARTS_TITLE" permissionModule="BAD_PARTS">
	<@p.searchPanel>
		<@p.searchColumns>
			<@p.input title="BAD_PARTS_NO" field="no"  id="no"/>
			<@p.input title="BAD_PARTS_NAME" field="name" id="name"/>
		</@p.searchColumns>
		
		<@p.toolbar> 
			<@p.button title="BTN_ADD" permissionCode="BadPartsAdd" iconCls="plus" url="${baseUrl}/badParts/addInput.do" type="add"  ></@p.button>
			<@p.button title="BTN_UPDATE" permissionCode="BadPartsUpdate" iconCls="edit" url="${baseUrl}/badParts/updateInput.do" type="update"></@p.button>
			<@p.button title="BTN_DELETE" permissionCode="BadPartsDelete" iconCls="trash" url="${baseUrl}/badParts/delete.do" type="delete"></@p.button>
		</@p.toolbar>
	</@p.searchPanel>
	<@p.dataGrid url="${baseUrl}/badParts/list.do">
		<@p.column checkbox="true" ></@p.column>
		<@p.column title="BAD_PARTS_ILNE" field="tmLine.nameCn" permissionCode="BAD_PARTS_ILNE" formatter="readLies"/>
		<@p.column title="BAD_PARTS_NO" field="no" permissionCode="BAD_PARTS_NO"/>
		<@p.column title="BAD_PARTS_NAME" field="name" permissionCode="BAD_PARTS_NAME"/>
		<@p.column title="BAD_PARTS_REMARKS" field="remarks" permissionCode="BAD_PARTS_REMARKS"/>
	</@p.dataGrid>
	<script type="text/javascript">
		function readLies(value,row,index){
			if(value && row.tmLine.no){
				return row.tmLine.no+ " - " + value;
			}
			return row.tmLine.no;
		}
	</script>
</@p.body>