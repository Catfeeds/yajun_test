<#include "../../include/bootstrapTableCommons.html">
<@p.body title="DEVICEMAINTENANCE_LIST_TITLE" permissionModule="DEVICE_MAINTENANCE">	
	<@p.searchPanel >
		<@p.searchColumns>
			<@p.input title="DEVICEMAINTENANCE_DEVICENAME" field="deviceName"></@p.input>
			<@p.input title="DEVICEMAINTENANCE_MAINTENANCEPROJECT"  field="maintenanceProject"></@p.input>
		</@p.searchColumns>
		<@p.toolbar> 
			<@p.button title="METALPLATE_ADD" permissionCode="MaintenanceAdd" iconCls="plus" url="${baseUrl}/maintenance/addInput.do" type="add"  ></@p.button>
			<@p.button title="METALPLATE_UPDATE" permissionCode="MaintenanceUpdate" iconCls="edit" url="${baseUrl}/maintenance/updateInput.do" type="update"></@p.button>
			<@p.button title="METALPLATE_DELETE" permissionCode="MaintenanceDelete" iconCls="trash" url="${baseUrl}/maintenance/delete.do" type="delete"></@p.button>
			<@p.button title="METALPLATE_IMPORT" permissionCode="MaintenanceImport" downName="DEVICEMAINTENANCE_IMPORT_NAME" onclick="importData();" iconCls="signin" />
			<@p.button title="METALPLATE_EXPORT" permissionCode="MaintenanceExport" downName="DEVICEMAINTENANCE_EXPORT_NAME" url="${baseUrl}/maintenance/exportData.do" iconCls="upload-alt" type="down" />
	  </@p.toolbar>
	</@p.searchPanel>
	<@p.dataGrid url="${baseUrl}/maintenance/list.do">
		<@p.column checkbox="true" ></@p.column>
		<@p.column title="DEVICEMAINTENANCE_DEVICECODE" field="deviceCode" permissionCode="DEVICE_CODE"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_DEVICENAME" field="deviceName" permissionCode="DEVICE_NAME"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCEPROJECT" field="maintenanceProject" permissionCode="MAINTENANCE_PROJECT"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCECODE" field="maintenanceCode" permissionCode="REMARK"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCEUNIT" field="maintenanceUnit" permissionCode="MAINTENANCE_UNIT"  formatter="renderMaintenanceUnit"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCEVALUE" field="maintenanceValue" permissionCode="MAINTENANCE_VALUE"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCENAME" field="remark" permissionCode="REMARK"></@p.column>
		<@p.column title="DEVICEMAINTENANCE_MAINTENANCEREMARK" field="maintenanceRemark" permissionCode="MAINTENANCE_REMARK"></@p.column>
	</@p.dataGrid>
	<div id ="PARTDetail"></div>
</@p.body>
<script type="text/javascript">
function renderMaintenanceUnit(value){return entryRenderer('SM_MAINTENANCE_UNIT', value);}
function importData(){ 
	var obj = new Object();
	obj.templateUrl="${baseUrl}/maintenance/exportTemplate.do";
    importFile("<@s.m code="METALPLATE_IMPORT" />", "${baseUrl}/maintenance/importData.do", "dg${currentPageId}",obj);
}


</script>